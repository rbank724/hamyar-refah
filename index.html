<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø·Ø±Ø­â€ŒÙ‡Ø§ÛŒ ØªØ³Ù‡ÛŒÙ„Ø§ØªÛŒ</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: "Vazirmatn", sans-serif; background-color: #f9f9f9; }
    h1, .search-input, .show-all-btn { color: #1f2937; }

    .result-item {
     border-radius: 50%;
     aspect-ratio: 1/1;
     width: 100px;
     height: 100px;
     display: flex;
     align-items: center;
     justify-content: center;
     text-align: center;
     color: #fff;
     text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
     background: linear-gradient(to right, #1e3a8a, #8b5cf6);
    }

    .result-item:hover { transform: translateY(-3px) scale(1.02); box-shadow:0 10px 15px rgba(0,0,0,0.2); }

    @keyframes fadeInUp { to { opacity:1; transform:translateY(0); } }

    .pagination-btn { @apply px-3 py-1 rounded text-white font-medium transition-all duration-300; }
    .pagination-btn:hover { @apply scale-105 shadow-lg; }
    .pagination-active { @apply bg-gradient-to-r from-indigo-500 to-purple-600; }
    .pagination-inactive { @apply bg-gray-300 text-gray-700; }

    .search-wrapper { position: relative; width: 100%; max-width: 28rem; margin-bottom: 0.5rem; }
    .search-clear { position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 1.2rem; color: #9ca3af; }
    .search-input { padding-left: 2rem; }

    .show-all-btn { width:100%; max-width:28rem; margin-top:0.5rem; background:linear-gradient(to right, #090157, #6e027a); color:white; font-weight:bold; padding:0.75rem 1rem; border-radius:9999px; text-align:center; cursor:pointer; transition: all 0.3s ease; }
    .show-all-btn:hover { transform: translateY(-2px) scale(1.02); box-shadow:0 10px 15px rgba(0,0,0,0.2); }

    #categorySelect {
     color: #FFD700;
     text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
     background-color: #090157;
     text-align: center;
     text-align-last: center;
     direction: rtl;
     -webkit-appearance: none;
     -moz-appearance: none;
     appearance: none;
     font-size: clamp(0.9rem, 2.5vw, 1.2rem); 
    }

    #results {
      display: grid;
      gap: 1rem;
      width: max-content;
      margin-left: auto;
      margin-right: auto;
      justify-content: center;
      justify-items: center;
      align-items: center;
      grid-template-columns: repeat(3, 1fr);
    }

    @media (min-width: 768px) {
      #results { grid-template-columns: repeat(4, 1fr); }
    }

    #backToTop { display:none; position:fixed; bottom:20px; left:20px; z-index:9999; background:#4f46e5; color:#fff; border:none; border-radius:50%; width:44px; height:44px; font-size:22px; cursor:pointer; box-shadow:0 2px 6px rgba(0,0,0,0.3); }

    #detail, #detail * { text-align: justify !important; }
    #detail-content * { color:inherit; }

    #detail-controls { display:flex; gap:8px; margin-bottom:6px; justify-start; }

    /* --- Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ù†Ø±Ù‡Ø§ --- */
    #banners { display:none; position:fixed; top:80px; right:20px; width:300px; z-index:9999; }
    #banners-inner { display:flex; flex-direction: column; gap:1rem; }
    .banner-item { position: relative; border-radius:1rem; box-shadow:0 10px 15px rgba(0,0,0,0.2); cursor:pointer; overflow:hidden; transition: all 0.3s; opacity:0; transform: translateY(1rem); }
    .banner-item img { width:100%; height:120px; object-fit:cover; border-radius:1rem; }
    .banner-item div { position:absolute; bottom:0; left:0; width:100%; background: linear-gradient(to top, rgba(0,0,0,0.6), transparent); color:#fff; padding:0.5rem; font-weight:bold; border-radius:0 0 1rem 1rem; }
    .banner-item:hover { transform: scale(1.03); box-shadow:0 12px 20px rgba(0,0,0,0.25); }
  </style>
</head>
<body class="flex flex-col items-center m-0 p-4">

  <h1 class="mb-4 font-medium text-xl sm:text-2xl text-center">Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø·Ø±Ø­â€ŒÙ‡Ø§ÛŒ ØªØ³Ù‡ÛŒÙ„Ø§ØªÛŒ</h1>

  <div class="search-wrapper">
    <span class="search-clear" onclick="clearSearch()">ğŸ§¹</span>
    <input id="search-box" type="text" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ú©Ù†ÛŒØ¯..." 
      class="search-input w-full px-4 py-3 text-base sm:text-lg border border-gray-300 rounded-full outline-none shadow-md"/>
  </div>

  <select id="categorySelect" class="show-all-btn">
    <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ...</option>
  </select>

  <div id="results" class="mt-4 w-full max-w-3xl gap-4"></div>
  <div id="pagination" class="mt-4 flex gap-2 flex-wrap justify-center"></div>
  <div id="loading" class="hidden mt-4 text-gray-600 text-sm sm:text-base">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</div>

  <div id="detail-controls" class="flex gap-2 mb-4 hidden">
    <button id="font-plus" title="Ø¨Ø²Ø±Ú¯ØªØ±" style="background:#4f46e5;color:#fff;border:none;border-radius:50%;width:48px;height:48px;cursor:pointer;font-weight:bold;">A+</button>
    <button id="share-btn" title="Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ" style="background:#4f46e5;color:#fff;border:none;border-radius:50%;width:48px;height:48px;cursor:pointer;font-size:18px;">ğŸ“¤</button>
    <button id="font-minus" title="Ú©ÙˆÚ†Ú©ØªØ±" style="background:#4f46e5;color:#fff;border:none;border-radius:50%;width:48px;height:48px;cursor:pointer;font-weight:bold;">A-</button>
    <button id="back-btn" title="Ø¨Ø§Ø²Ú¯Ø´Øª" 
      style="background:#4f46e5;color:#fff;border:none;border-radius:50%;width:48px;height:48px;cursor:pointer;font-weight:bold;">
      â†
    </button>
  </div>

  <div id="detail" class="mt-8 w-full max-w-3xl p-5 rounded-xl bg-white shadow-md hidden leading-8 text-sm sm:text-base"></div>

  <button id="backToTop" title="Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ù„Ø§">â†‘</button>

  <!-- ======= Ø¨Ù†Ø±Ù‡Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ ======= -->
  <div id="banners">
    <div id="banners-inner">
      <div class="banner-item" onclick="openBannerDetail('banner1.html')">
        <img src="banner1.jpg" alt="Ø·Ø±Ø­ Ø¨Ø§Ù†Ú© 1" loading="lazy">
        <div>Ø·Ø±Ø­ ÙˆÛŒÚ˜Ù‡ ÙˆØ§Ù… Ù…Ø³Ú©Ù†</div>
      </div>
      <div class="banner-item" onclick="openBannerDetail('banner2.html')">
        <img src="banner2.jpg" alt="Ø·Ø±Ø­ Ø¨Ø§Ù†Ú© 2" loading="lazy">
        <div>ØªØ³Ù‡ÛŒÙ„Ø§Øª Ø®ÙˆØ¯Ø±Ùˆ</div>
      </div>
      <div class="banner-item" onclick="openBannerDetail('banner3.html')">
        <img src="banner3.jpg" alt="Ø·Ø±Ø­ Ø¨Ø§Ù†Ú© 3" loading="lazy">
        <div>Ø·Ø±Ø­ ÙˆÛŒÚ˜Ù‡ Ø®Ø±ÛŒØ¯ Ù„ÙˆØ§Ø²Ù… Ø®Ø§Ù†Ú¯ÛŒ</div>
      </div>
      <div class="banner-item" onclick="openBannerDetail('banner4.html')">
        <img src="banner4.jpg" alt="Ø·Ø±Ø­ Ø¨Ø§Ù†Ú© 4" loading="lazy">
        <div>ØªØ³Ù‡ÛŒÙ„Ø§Øª Ù‚Ø±Ø¶â€ŒØ§Ù„Ø­Ø³Ù†Ù‡</div>
      </div>
    </div>
  </div>

  <script>
    // ==== Ø¨Ù†Ø±Ù‡Ø§ ÙÙ‚Ø· Ø¯Ø± ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ ====
    const path = window.location.pathname.split("/").pop().toLowerCase();
    if(path === "" || path === "index.html") {
      const banners = document.getElementById("banners");
      const bannerItems = document.querySelectorAll('.banner-item');

      function showBanners() {
        banners.style.display = "block";
        bannerItems.forEach((b,i)=>{
          setTimeout(()=>{b.style.opacity=1; b.style.transform='translateY(0)';}, i*100);
        });
      }

      function hideBanners() { banners.style.display = "none"; }

      // Ù†Ù…Ø§ÛŒØ´ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
      window.addEventListener("DOMContentLoaded", showBanners);

      // Ù†Ù…Ø§ÛŒØ´ Ù‡Ù†Ú¯Ø§Ù… Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¢ÛŒÚ©ÙˆÙ† Ø¬Ø§Ø±Ùˆ
      const searchClear = document.querySelector(".search-clear");
      if(searchClear){
        searchClear.addEventListener("click", showBanners);
      }

      // Ù…Ø®ÙÛŒ Ø´Ø¯Ù† ÙˆÙ‚ØªÛŒ Ø±ÙˆÛŒ Ø³Ø§ÛŒØª Ú©Ù„ÛŒÚ© Ø´Ø¯
      document.addEventListener("click", function(e){
        if(!e.target.closest("#banners") && !e.target.closest(".search-clear")) {
          hideBanners();
        }
      });

      // Ù…Ø®ÙÛŒ Ø´Ø¯Ù† ÙˆÙ‚ØªÛŒ Ø±ÙˆÛŒ Ø¨Ù†Ø± Ú©Ù„ÛŒÚ© Ø´Ø¯
      bannerItems.forEach(b=>{
        b.addEventListener("click", hideBanners);
      });
    }
  </script>
</body>
</html>
